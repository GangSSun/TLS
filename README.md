# TLS
(Touch Less Switch)

### 기능

1. 메인 기능
    - 초음파 센서를 통해 설정된 기준 거리 보다 10cm이상 줄어든 거리가 탐지되는 상태가 지속 되면 스위치가 동작
2. 위치 표시 LED
    - 어둠속에서도 센서의 위치를 표시해주는 LED
   - 거리 탐지 중임을 나타내는 led 센서에 각각 설치
3. 알람 기능
    - 시간 추가 버튼, 분 추가 버튼을 통해 설정한 시간 이후 스위치 동작 가능
4. TLS 파워 조절 기능
    - 실제 스위치마다 디자인이 다르고 스위치를 누르기 위한 힘이 다르기 때문에 모터의 각도를 조절하여 파워 조절
5. OLED를 통한 정보 표기
    - OLED ON 버튼 클릭 시 -> 현재 기준거리와 알람 설정시 스위치 작동까지 남은 시간 표기
    - 시간 or 분 추가 시 -> 변경된 시간을 표기
    - 파워 조절 시 -> 이전 단계에서 변경된 단계 표기


### 문제점과 해결 방안
1. (해결 완료) 서보 모터의 Jittering(떨림) 문제
   - 원인 : 여러 연산이 섞여있는 GPIO로 인한 영향으로 인해 더미값이 입력되는 것으로 추정
   - 해결방안 : 컴퓨팅 적인 연산을 로우레벨언어를 사용해 H/W제어와 연산처리를 나누어 간섭이 GPIO에 비대 상대적으로 적은 pigpiog 라이브러리를 사용하여 해결
2. (해결 완료) OLED 동작의 문제
   - 원인 : 라즈베리파이에서 OLED의 동작의 경우 adafruit의 사용이 필수적이나 버전의 충돌로인해 adafruit 미지원
   - 해결방안 : adafruit에서 버전호환이 필요없는 부분만 가져와 PIL, digitalio 모듈과 섞어서 사용하여 해결
  
